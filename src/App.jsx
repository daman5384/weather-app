import './App.css'
import { useEffect, useState } from 'react';
import WeatherMain from './components/WeatherMain/WeatherMain'


function App() {

  const WEATHER_API_KEY = import.meta.env.VITE_WEATHER_API_KEY;   // API KEY

  //--------------------------- weather sample data --------------------------

  let sampleData = {
    "coord": { "lon": 74.0833, "lat": 15.3333 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01d" }], "base": "stations", "main": { "temp": 31.13, "feels_like": 31.72, "temp_min": 31.13, "temp_max": 31.13, "pressure": 1011, "humidity": 44, "sea_level": 1011, "grnd_level": 997 }, "visibility": 10000, "wind": { "speed": 5.01, "deg": 282, "gust": 5.47 }, "clouds": { "all": 0 }, "dt": 1710413077, "sys": { "country": "IN", "sunrise": 1710378728, "sunset": 1710422020 }, "timezone": 19800, "id": 1271157, "name": "Goa", "cod": 200
  }

  let hourdataSample = {
    "cod": "200", "message": 0, "cnt": 40, "list": [{ "dt": 1710655200, "main": { "temp": 21.05, "feels_like": 20.41, "temp_min": 21.05, "temp_max": 28.4, "pressure": 1018, "sea_level": 1018, "grnd_level": 991, "humidity": 46, "temp_kf": -7.35 }, "weather": [{ "id": 803, "main": "Clouds", "description": "broken clouds", "icon": "04d" }], "clouds": { "all": 75 }, "wind": { "speed": 2.43, "deg": 280, "gust": 2.86 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-17 06:00:00" }, { "dt": 1710666000, "main": { "temp": 24.58, "feels_like": 23.96, "temp_min": 24.58, "temp_max": 31.64, "pressure": 1016, "sea_level": 1016, "grnd_level": 988, "humidity": 33, "temp_kf": -7.06 }, "weather": [{ "id": 803, "main": "Clouds", "description": "broken clouds", "icon": "04d" }], "clouds": { "all": 83 }, "wind": { "speed": 1.8, "deg": 276, "gust": 2.7 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-17 09:00:00" }, { "dt": 1710676800, "main": { "temp": 27.61, "feels_like": 26.48, "temp_min": 27.61, "temp_max": 30.89, "pressure": 1013, "sea_level": 1013, "grnd_level": 987, "humidity": 20, "temp_kf": -3.28 }, "weather": [{ "id": 804, "main": "Clouds", "description": "overcast clouds", "icon": "04d" }], "clouds": { "all": 86 }, "wind": { "speed": 1.47, "deg": 292, "gust": 2.6 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-17 12:00:00" }, { "dt": 1710687600, "main": { "temp": 25.35, "feels_like": 24.25, "temp_min": 25.35, "temp_max": 25.35, "pressure": 1013, "sea_level": 1013, "grnd_level": 988, "humidity": 12, "temp_kf": 0 }, "weather": [{ "id": 802, "main": "Clouds", "description": "scattered clouds", "icon": "03n" }], "clouds": { "all": 49 }, "wind": { "speed": 2.16, "deg": 344, "gust": 3.91 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-17 15:00:00" }, { "dt": 1710698400, "main": { "temp": 23, "feels_like": 21.75, "temp_min": 23, "temp_max": 23, "pressure": 1013, "sea_level": 1013, "grnd_level": 988, "humidity": 15, "temp_kf": 0 }, "weather": [{ "id": 803, "main": "Clouds", "description": "broken clouds", "icon": "04n" }], "clouds": { "all": 72 }, "wind": { "speed": 2.3, "deg": 333, "gust": 4.09 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-17 18:00:00" }, { "dt": 1710709200, "main": { "temp": 21.24, "feels_like": 19.79, "temp_min": 21.24, "temp_max": 21.24, "pressure": 1012, "sea_level": 1012, "grnd_level": 987, "humidity": 14, "temp_kf": 0 }, "weather": [{ "id": 804, "main": "Clouds", "description": "overcast clouds", "icon": "04n" }], "clouds": { "all": 96 }, "wind": { "speed": 2.16, "deg": 303, "gust": 4.16 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-17 21:00:00" }, { "dt": 1710720000, "main": { "temp": 19.62, "feels_like": 18.06, "temp_min": 19.62, "temp_max": 19.62, "pressure": 1012, "sea_level": 1012, "grnd_level": 986, "humidity": 16, "temp_kf": 0 }, "weather": [{ "id": 804, "main": "Clouds", "description": "overcast clouds", "icon": "04n" }], "clouds": { "all": 96 }, "wind": { "speed": 2.11, "deg": 338, "gust": 3.89 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-18 00:00:00" }, { "dt": 1710730800, "main": { "temp": 22.92, "feels_like": 21.66, "temp_min": 22.92, "temp_max": 22.92, "pressure": 1014, "sea_level": 1014, "grnd_level": 988, "humidity": 15, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01d" }], "clouds": { "all": 3 }, "wind": { "speed": 1.49, "deg": 330, "gust": 1.94 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-18 03:00:00" }, { "dt": 1710741600, "main": { "temp": 30.64, "feels_like": 28.67, "temp_min": 30.64, "temp_max": 30.64, "pressure": 1013, "sea_level": 1013, "grnd_level": 989, "humidity": 9, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01d" }], "clouds": { "all": 1 }, "wind": { "speed": 1.84, "deg": 273, "gust": 1.98 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-18 06:00:00" }, { "dt": 1710752400, "main": { "temp": 32.86, "feels_like": 30.53, "temp_min": 32.86, "temp_max": 32.86, "pressure": 1010, "sea_level": 1010, "grnd_level": 986, "humidity": 7, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01d" }], "clouds": { "all": 2 }, "wind": { "speed": 2.27, "deg": 245, "gust": 3.73 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-18 09:00:00" }, { "dt": 1710763200, "main": { "temp": 31.98, "feels_like": 29.81, "temp_min": 31.98, "temp_max": 31.98, "pressure": 1009, "sea_level": 1009, "grnd_level": 984, "humidity": 7, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01d" }], "clouds": { "all": 4 }, "wind": { "speed": 1.51, "deg": 274, "gust": 3.27 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-18 12:00:00" }, { "dt": 1710774000, "main": { "temp": 26.78, "feels_like": 25.72, "temp_min": 26.78, "temp_max": 26.78, "pressure": 1010, "sea_level": 1010, "grnd_level": 985, "humidity": 11, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01n" }], "clouds": { "all": 0 }, "wind": { "speed": 3.13, "deg": 300, "gust": 7.39 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-18 15:00:00" }, { "dt": 1710784800, "main": { "temp": 24.29, "feels_like": 23.14, "temp_min": 24.29, "temp_max": 24.29, "pressure": 1011, "sea_level": 1011, "grnd_level": 986, "humidity": 14, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01n" }], "clouds": { "all": 2 }, "wind": { "speed": 3.14, "deg": 308, "gust": 7.91 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-18 18:00:00" }, { "dt": 1710795600, "main": { "temp": 22.22, "feels_like": 20.97, "temp_min": 22.22, "temp_max": 22.22, "pressure": 1010, "sea_level": 1010, "grnd_level": 985, "humidity": 18, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01n" }], "clouds": { "all": 2 }, "wind": { "speed": 2.79, "deg": 317, "gust": 7.36 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-18 21:00:00" }, { "dt": 1710806400, "main": { "temp": 20.57, "feels_like": 19.2, "temp_min": 20.57, "temp_max": 20.57, "pressure": 1010, "sea_level": 1010, "grnd_level": 985, "humidity": 20, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01n" }], "clouds": { "all": 2 }, "wind": { "speed": 1.88, "deg": 300, "gust": 2.71 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-19 00:00:00" }, { "dt": 1710817200, "main": { "temp": 24.19, "feels_like": 23.03, "temp_min": 24.19, "temp_max": 24.19, "pressure": 1013, "sea_level": 1013, "grnd_level": 987, "humidity": 14, "temp_kf": 0 }, "weather": [{ "id": 801, "main": "Clouds", "description": "few clouds", "icon": "02d" }], "clouds": { "all": 15 }, "wind": { "speed": 1.84, "deg": 321, "gust": 2.48 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-19 03:00:00" }, { "dt": 1710828000, "main": { "temp": 31.9, "feels_like": 29.72, "temp_min": 31.9, "temp_max": 31.9, "pressure": 1012, "sea_level": 1012, "grnd_level": 988, "humidity": 8, "temp_kf": 0 }, "weather": [{ "id": 802, "main": "Clouds", "description": "scattered clouds", "icon": "03d" }], "clouds": { "all": 39 }, "wind": { "speed": 1.69, "deg": 295, "gust": 2.85 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-19 06:00:00" }, { "dt": 1710838800, "main": { "temp": 34.05, "feels_like": 31.5, "temp_min": 34.05, "temp_max": 34.05, "pressure": 1009, "sea_level": 1009, "grnd_level": 984, "humidity": 8, "temp_kf": 0 }, "weather": [{ "id": 802, "main": "Clouds", "description": "scattered clouds", "icon": "03d" }], "clouds": { "all": 44 }, "wind": { "speed": 1.26, "deg": 275, "gust": 2.94 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-19 09:00:00" }, { "dt": 1710849600, "main": { "temp": 32.85, "feels_like": 30.5, "temp_min": 32.85, "temp_max": 32.85, "pressure": 1008, "sea_level": 1008, "grnd_level": 983, "humidity": 8, "temp_kf": 0 }, "weather": [{ "id": 803, "main": "Clouds", "description": "broken clouds", "icon": "04d" }], "clouds": { "all": 72 }, "wind": { "speed": 1.49, "deg": 224, "gust": 3.49 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-19 12:00:00" }, { "dt": 1710860400, "main": { "temp": 27.45, "feels_like": 26.21, "temp_min": 27.45, "temp_max": 27.45, "pressure": 1009, "sea_level": 1009, "grnd_level": 984, "humidity": 11, "temp_kf": 0 }, "weather": [{ "id": 803, "main": "Clouds", "description": "broken clouds", "icon": "04n" }], "clouds": { "all": 58 }, "wind": { "speed": 2.15, "deg": 305, "gust": 4.55 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-19 15:00:00" }, { "dt": 1710871200, "main": { "temp": 25.22, "feels_like": 24.16, "temp_min": 25.22, "temp_max": 25.22, "pressure": 1011, "sea_level": 1011, "grnd_level": 985, "humidity": 14, "temp_kf": 0 }, "weather": [{ "id": 802, "main": "Clouds", "description": "scattered clouds", "icon": "03n" }], "clouds": { "all": 29 }, "wind": { "speed": 1.17, "deg": 329, "gust": 1.78 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-19 18:00:00" }, { "dt": 1710882000, "main": { "temp": 23.66, "feels_like": 22.47, "temp_min": 23.66, "temp_max": 23.66, "pressure": 1010, "sea_level": 1010, "grnd_level": 984, "humidity": 15, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01n" }], "clouds": { "all": 0 }, "wind": { "speed": 1.13, "deg": 318, "gust": 1.21 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-19 21:00:00" }, { "dt": 1710892800, "main": { "temp": 21.85, "feels_like": 20.53, "temp_min": 21.85, "temp_max": 21.85, "pressure": 1011, "sea_level": 1011, "grnd_level": 985, "humidity": 17, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01n" }], "clouds": { "all": 0 }, "wind": { "speed": 2.09, "deg": 3, "gust": 2.81 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-20 00:00:00" }, { "dt": 1710903600, "main": { "temp": 25.3, "feels_like": 24.28, "temp_min": 25.3, "temp_max": 25.3, "pressure": 1012, "sea_level": 1012, "grnd_level": 987, "humidity": 15, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01d" }], "clouds": { "all": 0 }, "wind": { "speed": 2.28, "deg": 357, "gust": 3.37 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-20 03:00:00" }, { "dt": 1710914400, "main": { "temp": 33.01, "feels_like": 30.62, "temp_min": 33.01, "temp_max": 33.01, "pressure": 1012, "sea_level": 1012, "grnd_level": 987, "humidity": 9, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01d" }], "clouds": { "all": 0 }, "wind": { "speed": 3.01, "deg": 314, "gust": 3.88 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-20 06:00:00" }, { "dt": 1710925200, "main": { "temp": 35.8, "feels_like": 32.96, "temp_min": 35.8, "temp_max": 35.8, "pressure": 1008, "sea_level": 1008, "grnd_level": 984, "humidity": 6, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01d" }], "clouds": { "all": 0 }, "wind": { "speed": 2.29, "deg": 286, "gust": 3.24 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-20 09:00:00" }, { "dt": 1710936000, "main": { "temp": 34.95, "feels_like": 32.26, "temp_min": 34.95, "temp_max": 34.95, "pressure": 1007, "sea_level": 1007, "grnd_level": 983, "humidity": 6, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01d" }], "clouds": { "all": 1 }, "wind": { "speed": 2.56, "deg": 285, "gust": 3.58 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-20 12:00:00" }, { "dt": 1710946800, "main": { "temp": 29.34, "feels_like": 27.64, "temp_min": 29.34, "temp_max": 29.34, "pressure": 1010, "sea_level": 1010, "grnd_level": 985, "humidity": 9, "temp_kf": 0 }, "weather": [{ "id": 802, "main": "Clouds", "description": "scattered clouds", "icon": "03n" }], "clouds": { "all": 38 }, "wind": { "speed": 2.58, "deg": 294, "gust": 6.53 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-20 15:00:00" }, { "dt": 1710957600, "main": { "temp": 26.56, "feels_like": 26.56, "temp_min": 26.56, "temp_max": 26.56, "pressure": 1011, "sea_level": 1011, "grnd_level": 986, "humidity": 11, "temp_kf": 0 }, "weather": [{ "id": 803, "main": "Clouds", "description": "broken clouds", "icon": "04n" }], "clouds": { "all": 69 }, "wind": { "speed": 2.09, "deg": 320, "gust": 4.94 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-20 18:00:00" }, { "dt": 1710968400, "main": { "temp": 24.49, "feels_like": 23.33, "temp_min": 24.49, "temp_max": 24.49, "pressure": 1010, "sea_level": 1010, "grnd_level": 985, "humidity": 13, "temp_kf": 0 }, "weather": [{ "id": 803, "main": "Clouds", "description": "broken clouds", "icon": "04n" }], "clouds": { "all": 71 }, "wind": { "speed": 1.45, "deg": 27, "gust": 1.61 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-20 21:00:00" }, { "dt": 1710979200, "main": { "temp": 20.66, "feels_like": 19.43, "temp_min": 20.66, "temp_max": 20.66, "pressure": 1011, "sea_level": 1011, "grnd_level": 986, "humidity": 25, "temp_kf": 0 }, "weather": [{ "id": 803, "main": "Clouds", "description": "broken clouds", "icon": "04n" }], "clouds": { "all": 55 }, "wind": { "speed": 4.25, "deg": 92, "gust": 8.49 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-21 00:00:00" }, { "dt": 1710990000, "main": { "temp": 21.78, "feels_like": 21.11, "temp_min": 21.78, "temp_max": 21.78, "pressure": 1013, "sea_level": 1013, "grnd_level": 988, "humidity": 42, "temp_kf": 0 }, "weather": [{ "id": 804, "main": "Clouds", "description": "overcast clouds", "icon": "04d" }], "clouds": { "all": 92 }, "wind": { "speed": 5.34, "deg": 115, "gust": 7.88 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-21 03:00:00" }, { "dt": 1711000800, "main": { "temp": 29.3, "feels_like": 27.72, "temp_min": 29.3, "temp_max": 29.3, "pressure": 1012, "sea_level": 1012, "grnd_level": 987, "humidity": 21, "temp_kf": 0 }, "weather": [{ "id": 803, "main": "Clouds", "description": "broken clouds", "icon": "04d" }], "clouds": { "all": 84 }, "wind": { "speed": 4.66, "deg": 123, "gust": 5.37 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-21 06:00:00" }, { "dt": 1711011600, "main": { "temp": 34.21, "feels_like": 31.68, "temp_min": 34.21, "temp_max": 34.21, "pressure": 1008, "sea_level": 1008, "grnd_level": 984, "humidity": 12, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01d" }], "clouds": { "all": 5 }, "wind": { "speed": 2.12, "deg": 152, "gust": 2.41 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-21 09:00:00" }, { "dt": 1711022400, "main": { "temp": 33.82, "feels_like": 31.3, "temp_min": 33.82, "temp_max": 33.82, "pressure": 1007, "sea_level": 1007, "grnd_level": 983, "humidity": 10, "temp_kf": 0 }, "weather": [{ "id": 800, "main": "Clear", "description": "clear sky", "icon": "01d" }], "clouds": { "all": 7 }, "wind": { "speed": 1.21, "deg": 343, "gust": 1.97 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-21 12:00:00" }, { "dt": 1711033200, "main": { "temp": 29.14, "feels_like": 27.47, "temp_min": 29.14, "temp_max": 29.14, "pressure": 1009, "sea_level": 1009, "grnd_level": 984, "humidity": 14, "temp_kf": 0 }, "weather": [{ "id": 801, "main": "Clouds", "description": "few clouds", "icon": "02n" }], "clouds": { "all": 14 }, "wind": { "speed": 2.53, "deg": 43, "gust": 3.54 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-21 15:00:00" }, { "dt": 1711044000, "main": { "temp": 25.59, "feels_like": 24.86, "temp_min": 25.59, "temp_max": 25.59, "pressure": 1009, "sea_level": 1009, "grnd_level": 984, "humidity": 25, "temp_kf": 0 }, "weather": [{ "id": 801, "main": "Clouds", "description": "few clouds", "icon": "02n" }], "clouds": { "all": 14 }, "wind": { "speed": 3.67, "deg": 103, "gust": 9.07 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-21 18:00:00" }, { "dt": 1711054800, "main": { "temp": 23.93, "feels_like": 23.19, "temp_min": 23.93, "temp_max": 23.93, "pressure": 1008, "sea_level": 1008, "grnd_level": 983, "humidity": 31, "temp_kf": 0 }, "weather": [{ "id": 803, "main": "Clouds", "description": "broken clouds", "icon": "04n" }], "clouds": { "all": 53 }, "wind": { "speed": 3.42, "deg": 121, "gust": 8.81 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-21 21:00:00" }, { "dt": 1711065600, "main": { "temp": 22.61, "feels_like": 21.84, "temp_min": 22.61, "temp_max": 22.61, "pressure": 1008, "sea_level": 1008, "grnd_level": 983, "humidity": 35, "temp_kf": 0 }, "weather": [{ "id": 803, "main": "Clouds", "description": "broken clouds", "icon": "04n" }], "clouds": { "all": 72 }, "wind": { "speed": 2.7, "deg": 123, "gust": 6.82 }, "visibility": 10000, "pop": 0, "sys": { "pod": "n" }, "dt_txt": "2024-03-22 00:00:00" }, { "dt": 1711076400, "main": { "temp": 25.67, "feels_like": 25.02, "temp_min": 25.67, "temp_max": 25.67, "pressure": 1010, "sea_level": 1010, "grnd_level": 985, "humidity": 28, "temp_kf": 0 }, "weather": [{ "id": 803, "main": "Clouds", "description": "broken clouds", "icon": "04d" }], "clouds": { "all": 53 }, "wind": { "speed": 3.48, "deg": 142, "gust": 5.82 }, "visibility": 10000, "pop": 0, "sys": { "pod": "d" }, "dt_txt": "2024-03-22 03:00:00" }], "city": { "id": 1273294, "name": "Delhi", "coord": { "lat": 28.6667, "lon": 77.2167 }, "country": "IN", "population": 10927986, "timezone": 19800, "sunrise": 1710637107, "sunset": 1710680431 }
  }

  //--------------------------- weather data state ----------------------------

  const [weatherData, setWeatherData] = useState(sampleData);
  const [hourData, setHourData] = useState(hourdataSample);
  const [loading, setLoading] = useState(true);

  //--------------------------- search function--------------------------------

  const search = function (data) {
    weatherUpdate(data)
    hourlyForcast(data)
  }
  //----------------------- weather update function ---------------------------

  const weatherUpdate = async (searchCity) => {
    setLoading(true);
    const url = `https://api.openweathermap.org/data/2.5/weather?q=${searchCity}&units=metric&appid=${WEATHER_API_KEY}`;

    try {
      let data = await fetch(url);
      let parseData = await data.json();
      setWeatherData(parseData);

      if (!data.ok) {
        setWeatherData(sampleData);
        // If the response status is not OK, throw an error
        throw new Error('Failed to fetch weather data');
      }

    } catch (error) {
      // Handle the error here
      console.error('Error fetching weather data:', error.message);
      // You might want to set an error state or display an error message to the user
    }

    setLoading(false);
  }


  //-----------------------hourly forcast function------------------------------

  const hourlyForcast = async (searchCity) => {
    const url = `http://api.openweathermap.org/data/2.5/forecast?q=${searchCity}&units=metric&id=524901&appid=${WEATHER_API_KEY}`
    let data = await fetch(url);
    let parseData = await data.json();
    setHourData(parseData)
    setLoading(false)
  }
  useEffect(() => {
    weatherUpdate('delhi');
    hourlyForcast('delhi');
  }, []);
  return (
    <>
      <WeatherMain weatherData={weatherData} hourData={hourData} search={search} loading={loading} />
    </>
  )
}

export default App
